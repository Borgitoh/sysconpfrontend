<div class="fixed inset-0 flex items-center justify-center z-50">
  <div class="bg-black opacity-50 absolute inset-0"></div>
  <div class="bg-white dark:bg-dark-primary rounded-lg w-[80%] max-w-3xl h-[90%] z-10 overflow-y-auto">
    <div class="flex justify-between items-center GD-SP mb-4 bg-fundo p-3 rounded-t-lg">
      <div class="text-xl font-bold text-white">Criar novo Imovel</div>
      <button (click)="onClose()" class="text-white">X</button>
    </div>

    <div class="w-full px-6">
      <form [formGroup]="ImovelForm" (ngSubmit)="onSubmit()" class="p-4 space-y-4">
        <div>
          <label for="name" class="block dark:text-white mb-1">Nome</label>
          <input type="text" id="name" class="border p-2 rounded w-full"
            [ngClass]="{'border-red-500': ImovelForm.get('name')?.invalid && ImovelForm.get('name')?.touched}"
            formControlName="name" required />
          <div *ngIf="ImovelForm.get('name')?.invalid && ImovelForm.get('name')?.touched" class="text-red-500 text-sm">
            Campo obrigatório
          </div>
        </div>
        <div class="grid grid-cols-2 gap-4">
          <div>
            <Label className="dark:text-white mb-1">Selecione o projeto</Label>
            <select id="code" formControlName="typePropertyId" required
              class="mt-1 block w-full h-9 border border-input bg-transparent rounded-md shadow-sm px-3 py-1 text-sm">
              <option *ngFor="let projeto of filteredProjects" value="{{projeto.id}}">{{projeto.name}}</option>
            </select>
          </div>
          <div>
            <Label className="dark:text-white mb-1">Tipo de Imovel</Label>
            <select id="code" formControlName="typePropertyId" required
              class="mt-1 block w-full h-9 border border-input bg-transparent rounded-md shadow-sm px-3 py-1 text-sm">
              <option *ngFor="let tipoImovel of tipoImoveis" value="{{tipoImovel.id}}">{{tipoImovel.type}}</option>
            </select>
          </div>

          <div>
            <label for="finalityValue" class="block dark:text-white mb-1">Valor Global</label>
            <input type="number" id="finalityValue" class="border p-2 rounded w-full"
              [ngClass]="{'border-red-500': ImovelForm.get('finalityValue')?.invalid && ImovelForm.get('finalityValue')?.touched}"
              formControlName="finalityValue" required />
            <div *ngIf="ImovelForm.get('finalityValue')?.invalid && ImovelForm.get('finalityValue')?.touched"
              class="text-red-500 text-sm">
              Campo obrigatório
            </div>
          </div>
          <div>
            <label for="initialValue" class="block dark:text-white mb-1">Valor de Entrada</label>
            <input type="number" id="initialValue" class="border p-2 rounded w-full"
              [ngClass]="{'border-red-500': ImovelForm.get('initialValue')?.invalid && ImovelForm.get('initialValue')?.touched}"
              formControlName="initialValue" required />
            <div *ngIf="ImovelForm.get('initialValue')?.invalid && ImovelForm.get('initialValue')?.touched"
              class="text-red-500 text-sm">
              Campo obrigatório
            </div>
          </div>

          <div>
            <label for="installment" class="block dark:text-white mb-1">Valor da parcela</label>
            <input type="number" id="installment" class="border p-2 rounded w-full"
              [ngClass]="{'border-red-500': ImovelForm.get('installment')?.invalid && ImovelForm.get('installment')?.touched}"
              formControlName="installment" required />
            <div *ngIf="ImovelForm.get('installment')?.invalid && ImovelForm.get('installment')?.touched"
              class="text-red-500 text-sm">
              Campo obrigatório
            </div>
          </div>

        </div>

        <div>
          <label for="description" class="block dark:text-white mb-1">Descrição</label>
          <textarea id="description" class="border p-2 rounded w-full" rows="4"
            [ngClass]="{'border-red-500': ImovelForm.get('description')?.invalid && ImovelForm.get('description')?.touched}"
            formControlName="description" required>
                </textarea>
          <div *ngIf="ImovelForm.get('description')?.invalid && ImovelForm.get('description')?.touched"
            class="text-red-500 text-sm">
            Campo obrigatório
          </div>
        </div>
        <div class="mt-4">
          <button type="submit" class="bg-blue-800 w-full text-white p-2 rounded">
            Salvar
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
